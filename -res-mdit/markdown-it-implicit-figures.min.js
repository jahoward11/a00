!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.markdownItImplicitFigures=e()}}(function(){return function e(n,i,t){function r(l,f){if(!i[l]){if(!n[l]){var c="function"==typeof require&&require;if(!f&&c)return c(l,!0);if(o)return o(l,!0);var p=new Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(e){var i=n[l][1][e];return r(i?i:e)},d,d.exports,e,n,i,t)}return i[l].exports}for(var o="function"==typeof require&&require,l=0;l<t.length;l++)r(t[l]);return r}({1:[function(e,n,i){"use strict";n.exports=function(e,n){function i(i){for(var t=1,r=1,o=i.tokens.length;r<o-1;++r){var l=i.tokens[r];if("inline"===l.type&&l.children&&(1===l.children.length||3===l.children.length)&&(1!==l.children.length||"image"===l.children[0].type)&&(3!==l.children.length||"link_open"===l.children[0].type&&"image"===l.children[1].type&&"link_close"===l.children[2].type)&&!(0!==r&&"paragraph_open"!==i.tokens[r-1].type||r!==o-1&&"paragraph_close"!==i.tokens[r+1].type)){if(i.tokens[r-1].type="figure_open",i.tokens[r-1].tag="figure",i.tokens[r+1].type="figure_close",i.tokens[r+1].tag="figure",1==n.dataType&&i.tokens[r-1].attrPush(["data-type","image"]),1==n.figcaption){var f=1===l.children.length?l.children[0]:l.children[1];f.children&&f.children.length&&(l.children.push(new i.Token("figcaption_open","figcaption",1)),l.children.push(e.utils.assign({},f.children[0])),l.children.push(new i.Token("figcaption_close","figcaption",(-1))))}1==n.tabindex&&(i.tokens[r-1].attrPush(["tabindex",t]),t++)}}}n=n||{},e.core.ruler.after("inline","implicit_figures",i)}},{}]},{},[1])(1)});